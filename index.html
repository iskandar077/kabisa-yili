<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kabisa yilini tekshiruvchi</title>
  <style>
    :root{--bg:#0f172a;--card:#1347ad;--accent:#60a5fa;--muted:#94a3b8;--success:#10b981;--danger:#ef4444}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:linear-gradient(180deg,#071022 0%,#0f172a 100%);color:#e6eef8;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:680px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);padding:28px;border-radius:14px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 20px;color:var(--muted)}
    form{display:flex;gap:12px;flex-wrap:wrap}
    input[type=number]{flex:1 1 180px;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-size:16px;outline:none}
    button{background:var(--accent);border:none;padding:12px 16px;border-radius:10px;color:#06202b;font-weight:600;cursor:pointer;font-size:16px}
    button.secondary{background:transparent;border:1px solid rgba(204, 0, 0, 0.06);color:var(--muted)}
    .result{margin-top:18px;padding:16px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.03)}
    .ok{color:var(--success);font-weight:700}
    .no{color:var(--danger);font-weight:700}
    .small{font-size:13px;color:var(--muted);margin-top:8px}
    footer{margin-top:14px;color:var(--muted);font-size:13px}
    @media(max-width:480px){form{flex-direction:column}button{width:100%}}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Kabisa yilini tekshiruvchi</h1>
    <p class="lead">Yilni kiriting — dastur kabisa (leap) yoki oddiy yil ekanligini aytib beradi.</p>

    <form id="leapForm" onsubmit="return false;" aria-label="Kabisa yilini tekshirish">
      <label for="year" class="visually-hidden">Yil</label>
      <input id="year" type="number" inputmode="numeric" placeholder="Masalan: 2024" min="-9999" max="99999" />
      <button id="checkBtn" type="button">Tekshir</button>
      <button id="nowBtn" class="secondary" type="button" title="Joriy yilni qo'yish">Joriy yil</button>
    </form>

    <div id="result" class="result" aria-live="polite" hidden>
      <div id="message"></div>
      <div id="details" class="small"></div>
    </div>

    <footer>
      Qoidasi: yil 4 ga bo'linadi va <strong>100 ga bo'linmasa</strong> yoki <strong>400 ga bo'linsa</strong> — kabisa yil hisoblanadi.
    </footer>
  </main>

  <script>
    // Kabisa tekshirish funksiyasi
    function isLeapYear(year){
      // JavaScriptda -0 bilan muammo bo'lishi mumkin, parseInt yordamida butun son olamiz
      year = Number(year);
      if (!Number.isFinite(year) || !Number.isInteger(year)) return null;
      return (year % 4 === 0) && (year % 100 !== 0 || year % 400 === 0);
    }

    const yearInput = document.getElementById('year');
    const checkBtn = document.getElementById('checkBtn');
    const nowBtn = document.getElementById('nowBtn');
    const result = document.getElementById('result');
    const message = document.getElementById('message');
    const details = document.getElementById('details');

    function showResult(year){
      const res = isLeapYear(year);
      if (res === null){
        result.hidden = false;
        message.textContent = 'Iltimos, butun son sifatida til kiritng.';
        message.className = '';
        details.textContent = '';
        return;
      }

      result.hidden = false;
      if (res){
        message.innerHTML = `<span class="ok">${year} — Kabisa yil (366 kun).</span>`;
        details.textContent = "Fevral oyida 29 kun bo'ladi.";
      } else {
        message.innerHTML = `<span class="no">${year} — Oddiy yil (365 kun).</span>`;
        details.textContent = "Fevral oyida 28 kun bo'ladi.";
      }
    }

    checkBtn.addEventListener('click', ()=>{
      showResult(yearInput.value.trim());
    });

    nowBtn.addEventListener('click', ()=>{
      const y = new Date().getFullYear();
      yearInput.value = y;
      showResult(y);
    });

    // Enter tugmasi bilan yuborishni ham qo'llaymiz
    yearInput.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter') { e.preventDefault(); showResult(yearInput.value.trim()); }
    });

    // Default: formani tozalashda natijani yashirish
    yearInput.addEventListener('input', ()=>{
      if (yearInput.value.trim() === '') result.hidden = true;
    });
  </script>
</body>
</html>